<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>菜鸟教程(runoob.com)</title>
</head>

<body>
    <div id="data" style="height: 500px; overflow-y: scroll;"></div>

</body>

<script>
    // 模拟数据
    const data = [];
    for (let i = 0; i < 1000; i++) {
        data.push(i);
    }

    // 渲染数据
    const perPage = 20; // 每次加载的数据量
    const dataContainer = document.getElementById('data');
    let start = 0; // 当前已经渲染的数据开始位置
    let end = perPage; // 当前已经渲染的数据结束位置

    function renderData() {
        const newData = data.slice(start, end);
        newData.forEach(item => {
            const itemElement = document.createElement('div');
            itemElement.innerText = item;
            dataContainer.appendChild(itemElement);
        });
        start = end;
        end += perPage;
    }

    // 监听滚动事件
    dataContainer.addEventListener('scroll', () => {
        if (dataContainer.scrollTop + dataContainer.clientHeight >= dataContainer.scrollHeight) {
            renderData();
        }
    });

    // 初始渲染
    renderData();

</script>

</html>