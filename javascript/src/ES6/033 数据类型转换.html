<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>数据类型转换</title>
</head>
<body>

<script>
    console.log("John".constructor);   // 返回函数 String()  { [native code] }
    console.log((3.14).constructor);          // 返回函数 Number()  { [native code] }
    console.log(false.constructor);    // 返回函数 Boolean() { [native code] }
    console.log([1, 2, 3, 4].constructor);    // 返回函数 Array()   { [native code] }
    console.log(
        {name: 'John', age: 34}.constructor
    );  // 返回函数 Object()  { [native code] }
    console.log(new Date().constructor);       // 返回函数 Date()    { [native code] }
    console.log(
        function () {

        }.constructor
    );         // 返回函数 Function(){ [native code] }

    // 函数提升，先调用再声明也是可以的
    console.log(isArray([11, 1, 3]));

    function isArray(myArray) {
        return myArray.constructor.toString().indexOf("Array") > -1;
    }

    //数字转换为字符串
    var x = 100;
    //将数字转化为字符串
    console.log(String(x));         // 将变量 x 转换为字符串并返回
    console.log(String(123));       // 将数字 123 转换为字符串并返回
    console.log(String(100 + 23));  // 将数字表达式转换为字符串并返回
    console.log(x.toString());
    console.log((123).toString());
    console.log((100 + 23).toString());


    console.log("this is a test string");

    //布尔值转换为String
    console.log(false.toString());
    console.log(String(false));     // 返回 "false"
    console.log(String(true));         // 返回 "true"


    // 日期类转换为字符串
    console.log(String(new Date()));
    var d = new Date();
    console.log(d.toString());

    //字符串转换为数字
    console.log(Number("3.14"));    // 返回 3.14
    console.log(Number(" "));  // 返回 0
    console.log(Number(""));// 返回 0
    console.log(Number("99 88"));// 返回 NaN
    console.log(Number("99ss"));// 返回 NaN

    // Operator + 可用于将变量转换为数字：
    var v2num = "5";      // v2num 是一个字符串
    var v2num1 = +v2num;      // v2num1 是一个数字
    var v2num6 = -v2num;
    //var v2num5 = /y;
    console.log(typeof v2num6);
    console.log(typeof v2num5);
    // var v2num5 = *y;
    console.log(typeof v2num);
    console.log(typeof v2num1);
    var v2num2 = "qw";
    var v2num3 = +v2num2;
    console.log(v2num3);  //Nan
    console.log(typeof v2num3); //number

    //自动转换类型
    //当 JavaScript 尝试操作一个 "错误" 的数据类型时，会自动转换为 "正确" 的数据类型。
    //以下输出结果不是你所期望的：
    console.log(5 + null);    // 返回 5         null 转换为 0
    console.log(typeof (5 + null));
    console.log("5" + null);  // 返回"5null"   null 转换为 "null"
    console.log(typeof ("5" + null));
    console.log("5" + 1);// 返回 "51"      1 转换为 "1"
    console.log(typeof ("5" + 1));
    console.log("5" - 1);   // 返回 4         "5" 转换为 5
    console.log(typeof ("5" - 1));

    //自动转换为字符串
    //当你尝试输出一个对象或一个变量时,JavaScript,会自动调用变量的 toString()方法：
    //document.getElementById("demo").innerHTML = myVar;
    myVar = {name: "Fjohn"}; // toString
    myVar = [1, 2, 3, 4];   // toString 转换为 "1,2,3,4"
    myVar = new Date();// toString 转换为 "Fri Jul 18 2014 09:08:55 GMT+0200"
    //数字和布尔值也经常相互转换：
    myVar = 123;  // toString 转换为 "123"
    myVar = true; // toString 转换为 "true"
    myVar = false;// toString 转换为 "false"


</script>
</body>
</html>